description = 'Emoji SVG fonts resource'

// This module only contains the emoji.zip resource file
// It should only be built when emoji fonts need to be updated

publishing {
    publications {
        maven(MavenPublication) {
            pom {
                description = 'Emoji SVG fonts resource'
                url = 'https://github.com/mimidesunya/pdfg2d/tree/main/pdfg2d-svg-emoji-fonts'
                
                scm {
                    connection = 'scm:git:https://github.com/mimidesunya/pdfg2d/tree/main/pdfg2d-svg-emoji-fonts'
                    developerConnection = 'scm:git:https://github.com/mimidesunya/pdfg2d/tree/main/pdfg2d-svg-emoji-fonts'
                    url = 'https://github.com/mimidesunya/pdfg2d/tree/main/pdfg2d-svg-emoji-fonts'
                }
            }
        }
    }
}

task setupEmoji(type: Exec) {
    def toolFile = file("BuildEmojiIndexTool.java")
    inputs.file toolFile
    workingDir projectDir
    
    commandLine 'cmd', '/c', 'javac -encoding UTF-8 BuildEmojiIndexTool.java && java -cp . BuildEmojiIndexTool'
}
